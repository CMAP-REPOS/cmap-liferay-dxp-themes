!function(){for(var e=0,t=["webkit","moz"],r=0;r<t.length&&!window.requestAnimationFrame;++r)window.requestAnimationFrame=window[t[r]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[r]+"CancelAnimationFrame"]||window[t[r]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var r=(new Date).getTime(),n=Math.max(0,16-(r-e)),o=window.setTimeout(function(){t(r+n)},n);return e=r+n,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),CanvasRenderingContext2D&&!CanvasRenderingContext2D.renderText&&(CanvasRenderingContext2D.prototype.renderText=function(e,t,r,n){if(e&&"string"==typeof e&&0!==e.length){"undefined"==typeof n&&(n=0);var o,i=String.prototype.split.call(e,""),a=0,f=t,u=1;if("right"===this.textAlign)i=i.reverse(),u=-1;else if("center"===this.textAlign){for(var s=0,h=0;h<i.length;h++)s+=this.measureText(i[h]).width+n;f=t-s/2}for(;a<e.length;)o=i[a++],this.fillText(o,f,r),f+=u*(this.measureText(o).width+n)}}),function(e){"use strict";function t(e){switch(typeof e){case"undefined":return"undefined";case"boolean":return"boolean";case"number":return"number";case"string":return"string";default:return null===e?"null":"object"}}function r(e){return Object.prototype.toString.call(e).replace(/^\[object *|\]$/g,"")}function n(e){return"function"==typeof e}function o(e){if(null===e||e===L)throw TypeError();return Object(e)}function i(e){return e>>0}function a(e){return e>>>0}function f(e){function t(t){Object.defineProperty(e,t,{get:function(){return e._getter(t)},set:function(r){e._setter(t,r)},enumerable:!0,configurable:!1})}if(e.length>B)throw RangeError("Array too large for polyfill");var r;for(r=0;r<e.length;r+=1)t(r)}function u(e,t){var r=32-t;return e<<r>>r}function s(e,t){var r=32-t;return e<<r>>>r}function h(e){return[255&e]}function y(e){return u(e[0],8)}function l(e){return[255&e]}function p(e){return s(e[0],8)}function c(e){return e=Y(Number(e)),[0>e?0:e>255?255:255&e]}function g(e){return[e>>8&255,255&e]}function b(e){return u(e[0]<<8|e[1],16)}function v(e){return[e>>8&255,255&e]}function E(e){return s(e[0]<<8|e[1],16)}function d(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function _(e){return u(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function O(e){return[e>>24&255,e>>16&255,e>>8&255,255&e]}function m(e){return s(e[0]<<24|e[1]<<16|e[2]<<8|e[3],32)}function j(e,t,r){function n(e){var t=S(e),r=e-t;return.5>r?t:r>.5?t+1:t%2?t+1:t}var o,i,a,f,u,s,h,y=(1<<t-1)-1;for(e!==e?(i=(1<<t)-1,a=F(2,r-1),o=0):1/0===e||e===-1/0?(i=(1<<t)-1,a=0,o=0>e?1:0):0===e?(i=0,a=0,o=1/e===-1/0?1:0):(o=0>e,e=N(e),e>=F(2,1-y)?(i=x(S(U(e)/M),1023),a=n(e/F(2,i)*F(2,r)),a/F(2,r)>=2&&(i+=1,a=1),i>y?(i=(1<<t)-1,a=0):(i+=y,a-=F(2,r))):(i=0,a=n(e/F(2,1-y-r)))),u=[],f=r;f;f-=1)u.push(a%2?1:0),a=S(a/2);for(f=t;f;f-=1)u.push(i%2?1:0),i=S(i/2);for(u.push(o?1:0),u.reverse(),s=u.join(""),h=[];s.length;)h.push(parseInt(s.substring(0,8),2)),s=s.substring(8);return h}function w(e,t,r){var n,o,i,a,f,u,s,h,y=[];for(n=e.length;n;n-=1)for(i=e[n-1],o=8;o;o-=1)y.push(i%2?1:0),i>>=1;return y.reverse(),a=y.join(""),f=(1<<t-1)-1,u=parseInt(a.substring(0,1),2)?-1:1,s=parseInt(a.substring(1,1+t),2),h=parseInt(a.substring(1+t),2),s===(1<<t)-1?0!==h?0/0:1/0*u:s>0?u*F(2,s-f)*(1+h/F(2,r)):0!==h?u*F(2,-(f-1))*(h/F(2,r)):0>u?-0:0}function P(e){return w(e,11,52)}function T(e){return j(e,11,52)}function A(e){return w(e,8,23)}function R(e){return j(e,8,23)}var L=void 0,B=1e5,M=Math.LN2,N=Math.abs,S=Math.floor,U=Math.log,I=Math.max,x=Math.min,F=Math.pow,Y=Math.round;!function(){var e=Object.defineProperty,t=!function(){try{return Object.defineProperty({},"x",{})}catch(e){return!1}}();(!e||t)&&(Object.defineProperty=function(t,r,n){if(e)try{return e(t,r,n)}catch(o){}if(t!==Object(t))throw TypeError("Object.defineProperty called on non-object");return Object.prototype.__defineGetter__&&"get"in n&&Object.prototype.__defineGetter__.call(t,r,n.get),Object.prototype.__defineSetter__&&"set"in n&&Object.prototype.__defineSetter__.call(t,r,n.set),"value"in n&&(t[r]=n.value),t})}(),function(){function u(e){if(e=i(e),0>e)throw RangeError("ArrayBuffer size is not a small enough positive integer.");Object.defineProperty(this,"byteLength",{value:e}),Object.defineProperty(this,"_bytes",{value:Array(e)});for(var t=0;e>t;t+=1)this._bytes[t]=0}function s(){if(!arguments.length||"object"!=typeof arguments[0])return function(e){if(e=i(e),0>e)throw RangeError("length is not a small enough positive integer.");Object.defineProperty(this,"length",{value:e}),Object.defineProperty(this,"byteLength",{value:e*this.BYTES_PER_ELEMENT}),Object.defineProperty(this,"buffer",{value:new u(this.byteLength)}),Object.defineProperty(this,"byteOffset",{value:0})}.apply(this,arguments);if(arguments.length>=1&&"object"===t(arguments[0])&&arguments[0]instanceof s)return function(e){if(this.constructor!==e.constructor)throw TypeError();var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new u(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var r=0;r<this.length;r+=1)this._setter(r,e._getter(r))}.apply(this,arguments);if(arguments.length>=1&&"object"===t(arguments[0])&&!(arguments[0]instanceof s)&&!(arguments[0]instanceof u||"ArrayBuffer"===r(arguments[0])))return function(e){var t=e.length*this.BYTES_PER_ELEMENT;Object.defineProperty(this,"buffer",{value:new u(t)}),Object.defineProperty(this,"byteLength",{value:t}),Object.defineProperty(this,"byteOffset",{value:0}),Object.defineProperty(this,"length",{value:e.length});for(var r=0;r<this.length;r+=1){var n=e[r];this._setter(r,Number(n))}}.apply(this,arguments);if(arguments.length>=1&&"object"===t(arguments[0])&&(arguments[0]instanceof u||"ArrayBuffer"===r(arguments[0])))return function(e,t,r){if(t=a(t),t>e.byteLength)throw RangeError("byteOffset out of range");if(t%this.BYTES_PER_ELEMENT)throw RangeError("buffer length minus the byteOffset is not a multiple of the element size.");if(r===L){var n=e.byteLength-t;if(n%this.BYTES_PER_ELEMENT)throw RangeError("length of buffer minus byteOffset not a multiple of the element size");r=n/this.BYTES_PER_ELEMENT}else r=a(r),n=r*this.BYTES_PER_ELEMENT;if(t+n>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:t}),Object.defineProperty(this,"length",{value:r})}.apply(this,arguments);throw TypeError()}function j(e,t,r){var n=function(){Object.defineProperty(this,"constructor",{value:n}),s.apply(this,arguments),f(this)};"__proto__"in n?n.__proto__=s:(n.from=s.from,n.of=s.of),n.BYTES_PER_ELEMENT=e;var o=function(){};return o.prototype=w,n.prototype=new o,Object.defineProperty(n.prototype,"BYTES_PER_ELEMENT",{value:e}),Object.defineProperty(n.prototype,"_pack",{value:t}),Object.defineProperty(n.prototype,"_unpack",{value:r}),n}e.ArrayBuffer=e.ArrayBuffer||u,Object.defineProperty(s,"from",{value:function(e){return new this(e)}}),Object.defineProperty(s,"of",{value:function(){return new this(arguments)}});var w={};s.prototype=w,Object.defineProperty(s.prototype,"_getter",{value:function(e){if(arguments.length<1)throw SyntaxError("Not enough arguments");if(e=a(e),e>=this.length)return L;var t,r,n=[];for(t=0,r=this.byteOffset+e*this.BYTES_PER_ELEMENT;t<this.BYTES_PER_ELEMENT;t+=1,r+=1)n.push(this.buffer._bytes[r]);return this._unpack(n)}}),Object.defineProperty(s.prototype,"get",{value:s.prototype._getter}),Object.defineProperty(s.prototype,"_setter",{value:function(e,t){if(arguments.length<2)throw SyntaxError("Not enough arguments");if(e=a(e),!(e>=this.length)){var r,n,o=this._pack(t);for(r=0,n=this.byteOffset+e*this.BYTES_PER_ELEMENT;r<this.BYTES_PER_ELEMENT;r+=1,n+=1)this.buffer._bytes[n]=o[r]}}}),Object.defineProperty(s.prototype,"constructor",{value:s}),Object.defineProperty(s.prototype,"copyWithin",{value:function(e,t){var r=arguments[2],n=o(this),f=n.length,u=a(f);u=I(u,0);var s,h=i(e);s=0>h?I(u+h,0):x(h,u);var y,l=i(t);y=0>l?I(u+l,0):x(l,u);var p;p=r===L?u:i(r);var c;c=0>p?I(u+p,0):x(p,u);var g,b=x(c-y,u-s);for(s>y&&y+b>s?(g=-1,y=y+b-1,s=s+b-1):g=1;b>0;)n._setter(s,n._getter(y)),y+=g,s+=g,b-=1;return n}}),Object.defineProperty(s.prototype,"every",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(!n(e))throw TypeError();for(var o=arguments[1],i=0;r>i;i++)if(!e.call(o,t._getter(i),i,t))return!1;return!0}}),Object.defineProperty(s.prototype,"fill",{value:function(e){var t=arguments[1],r=arguments[2],n=o(this),f=n.length,u=a(f);u=I(u,0);var s,h=i(t);s=0>h?I(u+h,0):x(h,u);var y;y=r===L?u:i(r);var l;for(l=0>y?I(u+y,0):x(y,u);l>s;)n._setter(s,e),s+=1;return n}}),Object.defineProperty(s.prototype,"filter",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(!n(e))throw TypeError();for(var o=[],i=arguments[1],f=0;r>f;f++){var u=t._getter(f);e.call(i,u,f,t)&&o.push(u)}return new this.constructor(o)}}),Object.defineProperty(s.prototype,"find",{value:function(e){var t=o(this),r=t.length,i=a(r);if(!n(e))throw TypeError();for(var f=arguments.length>1?arguments[1]:L,u=0;i>u;){var s=t._getter(u),h=e.call(f,s,u,t);if(Boolean(h))return s;++u}return L}}),Object.defineProperty(s.prototype,"findIndex",{value:function(e){var t=o(this),r=t.length,i=a(r);if(!n(e))throw TypeError();for(var f=arguments.length>1?arguments[1]:L,u=0;i>u;){var s=t._getter(u),h=e.call(f,s,u,t);if(Boolean(h))return u;++u}return-1}}),Object.defineProperty(s.prototype,"forEach",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(!n(e))throw TypeError();for(var o=arguments[1],i=0;r>i;i++)e.call(o,t._getter(i),i,t)}}),Object.defineProperty(s.prototype,"indexOf",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(0===r)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*S(N(n)))),n>=r)return-1;for(var o=n>=0?n:I(r-N(n),0);r>o;o++)if(t._getter(o)===e)return o;return-1}}),Object.defineProperty(s.prototype,"join",{value:function(e){if(this===L||null===this)throw TypeError();for(var t=Object(this),r=a(t.length),n=Array(r),o=0;r>o;++o)n[o]=t._getter(o);return n.join(e===L?",":e)}}),Object.defineProperty(s.prototype,"lastIndexOf",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(0===r)return-1;var n=r;arguments.length>1&&(n=Number(arguments[1]),n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*S(N(n))));for(var o=n>=0?x(n,r-1):r-N(n);o>=0;o--)if(t._getter(o)===e)return o;return-1}}),Object.defineProperty(s.prototype,"map",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(!n(e))throw TypeError();var o=[];o.length=r;for(var i=arguments[1],f=0;r>f;f++)o[f]=e.call(i,t._getter(f),f,t);return new this.constructor(o)}}),Object.defineProperty(s.prototype,"reduce",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(!n(e))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var o,i=0;for(o=arguments.length>=2?arguments[1]:t._getter(i++);r>i;)o=e.call(L,o,t._getter(i),i,t),i++;return o}}),Object.defineProperty(s.prototype,"reduceRight",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(!n(e))throw TypeError();if(0===r&&1===arguments.length)throw TypeError();var o,i=r-1;for(o=arguments.length>=2?arguments[1]:t._getter(i--);i>=0;)o=e.call(L,o,t._getter(i),i,t),i--;return o}}),Object.defineProperty(s.prototype,"reverse",{value:function(){if(this===L||null===this)throw TypeError();for(var e=Object(this),t=a(e.length),r=S(t/2),n=0,o=t-1;r>n;++n,--o){var i=e._getter(n);e._setter(n,e._getter(o)),e._setter(o,i)}return e}}),Object.defineProperty(s.prototype,"set",{value:function(){if(arguments.length<1)throw SyntaxError("Not enough arguments");var e,t,r,n,o,i,f,u,s,h;if("object"==typeof arguments[0]&&arguments[0].constructor===this.constructor){if(e=arguments[0],r=a(arguments[1]),r+e.length>this.length)throw RangeError("Offset plus length of array is out of range");if(u=this.byteOffset+r*this.BYTES_PER_ELEMENT,s=e.length*this.BYTES_PER_ELEMENT,e.buffer===this.buffer){for(h=[],o=0,i=e.byteOffset;s>o;o+=1,i+=1)h[o]=e.buffer._bytes[i];for(o=0,f=u;s>o;o+=1,f+=1)this.buffer._bytes[f]=h[o]}else for(o=0,i=e.byteOffset,f=u;s>o;o+=1,i+=1,f+=1)this.buffer._bytes[f]=e.buffer._bytes[i]}else{if("object"!=typeof arguments[0]||"undefined"==typeof arguments[0].length)throw TypeError("Unexpected argument type(s)");if(t=arguments[0],n=a(t.length),r=a(arguments[1]),r+n>this.length)throw RangeError("Offset plus length of array is out of range");for(o=0;n>o;o+=1)i=t[o],this._setter(r+o,Number(i))}}}),Object.defineProperty(s.prototype,"slice",{value:function(e,t){for(var r=o(this),n=r.length,f=a(n),u=i(e),s=0>u?I(f+u,0):x(u,f),h=t===L?f:i(t),y=0>h?I(f+h,0):x(h,f),l=y-s,p=r.constructor,c=new p(l),g=0;y>s;){var b=r._getter(s);c._setter(g,b),++s,++g}return c}}),Object.defineProperty(s.prototype,"some",{value:function(e){if(this===L||null===this)throw TypeError();var t=Object(this),r=a(t.length);if(!n(e))throw TypeError();for(var o=arguments[1],i=0;r>i;i++)if(e.call(o,t._getter(i),i,t))return!0;return!1}}),Object.defineProperty(s.prototype,"sort",{value:function(e){if(this===L||null===this)throw TypeError();for(var t=Object(this),r=a(t.length),n=Array(r),o=0;r>o;++o)n[o]=t._getter(o);for(e?n.sort(e):n.sort(),o=0;r>o;++o)t._setter(o,n[o]);return t}}),Object.defineProperty(s.prototype,"subarray",{value:function(e,t){function r(e,t,r){return t>e?t:e>r?r:e}e=i(e),t=i(t),arguments.length<1&&(e=0),arguments.length<2&&(t=this.length),0>e&&(e=this.length+e),0>t&&(t=this.length+t),e=r(e,0,this.length),t=r(t,0,this.length);var n=t-e;return 0>n&&(n=0),new this.constructor(this.buffer,this.byteOffset+e*this.BYTES_PER_ELEMENT,n)}});var B=j(1,h,y),M=j(1,l,p),U=j(1,c,p),F=j(2,g,b),Y=j(2,v,E),C=j(4,d,_),q=j(4,O,m),D=j(4,R,A),k=j(8,T,P);e.Int8Array=e.Int8Array||B,e.Uint8Array=e.Uint8Array||M,e.Uint8ClampedArray=e.Uint8ClampedArray||U,e.Int16Array=e.Int16Array||F,e.Uint16Array=e.Uint16Array||Y,e.Int32Array=e.Int32Array||C,e.Uint32Array=e.Uint32Array||q,e.Float32Array=e.Float32Array||D,e.Float64Array=e.Float64Array||k}(),function(){function t(e,t){return n(e.get)?e.get(t):e[t]}function o(e,t,n){if(!(e instanceof ArrayBuffer||"ArrayBuffer"===r(e)))throw TypeError();if(t=a(t),t>e.byteLength)throw RangeError("byteOffset out of range");if(n=n===L?e.byteLength-t:a(n),t+n>e.byteLength)throw RangeError("byteOffset and length reference an area beyond the end of the buffer");Object.defineProperty(this,"buffer",{value:e}),Object.defineProperty(this,"byteLength",{value:n}),Object.defineProperty(this,"byteOffset",{value:t})}function i(e){return function(r,n){if(r=a(r),r+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");r+=this.byteOffset;for(var o=new Uint8Array(this.buffer,r,e.BYTES_PER_ELEMENT),i=[],f=0;f<e.BYTES_PER_ELEMENT;f+=1)i.push(t(o,f));return Boolean(n)===Boolean(u)&&i.reverse(),t(new e(new Uint8Array(i).buffer),0)}}function f(e){return function(r,n,o){if(r=a(r),r+e.BYTES_PER_ELEMENT>this.byteLength)throw RangeError("Array index out of range");var i,f,s=new e([n]),h=new Uint8Array(s.buffer),y=[];for(i=0;i<e.BYTES_PER_ELEMENT;i+=1)y.push(t(h,i));Boolean(o)===Boolean(u)&&y.reverse(),f=new Uint8Array(this.buffer,r,e.BYTES_PER_ELEMENT),f.set(y)}}var u=function(){var e=new Uint16Array([4660]),r=new Uint8Array(e.buffer);return 18===t(r,0)}();Object.defineProperty(o.prototype,"getUint8",{value:i(Uint8Array)}),Object.defineProperty(o.prototype,"getInt8",{value:i(Int8Array)}),Object.defineProperty(o.prototype,"getUint16",{value:i(Uint16Array)}),Object.defineProperty(o.prototype,"getInt16",{value:i(Int16Array)}),Object.defineProperty(o.prototype,"getUint32",{value:i(Uint32Array)}),Object.defineProperty(o.prototype,"getInt32",{value:i(Int32Array)}),Object.defineProperty(o.prototype,"getFloat32",{value:i(Float32Array)}),Object.defineProperty(o.prototype,"getFloat64",{value:i(Float64Array)}),Object.defineProperty(o.prototype,"setUint8",{value:f(Uint8Array)}),Object.defineProperty(o.prototype,"setInt8",{value:f(Int8Array)}),Object.defineProperty(o.prototype,"setUint16",{value:f(Uint16Array)}),Object.defineProperty(o.prototype,"setInt16",{value:f(Int16Array)}),Object.defineProperty(o.prototype,"setUint32",{value:f(Uint32Array)}),Object.defineProperty(o.prototype,"setInt32",{value:f(Int32Array)}),Object.defineProperty(o.prototype,"setFloat32",{value:f(Float32Array)}),Object.defineProperty(o.prototype,"setFloat64",{value:f(Float64Array)}),e.DataView=e.DataView||o}()}(this);